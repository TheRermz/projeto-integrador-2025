<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>KLOAD - Entrada de Produtos/Insumos</title>
    <style>
      /* Reset and Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
      }

      body {
        background-color: #005599;
        color: white;
        display: flex;
        flex-direction: column;
        height: 100vh;
        overflow: hidden;
      }

      .logo {
        font-weight: bold;
        font-size: 20px;
      }

      .nav-links {
        display: flex;
        gap: 16px;
        font-size: 14px;
      }

      .nav-link {
        cursor: pointer;
        color: white;
      }

      .nav-link:hover {
        text-decoration: underline;
        background-color: #303f9f;
      }

      .search-box {
        display: flex;
        align-items: center;
      }

      .search-box input {
        margin-left: 4px;
        padding: 2px 8px;
        height: 20px;
        width: 96px;
        font-size: 14px;
      }

      /* Main Content Styles */
      .main {
        flex: 1;
        padding: 16px;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        background-color: #005599;
      }

      .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 16px;
      }

      .page-title-container {
        display: flex;
        align-items: center;
      }

      .back-button {
        margin-right: 8px;
        padding: 4px;
        background-color: #0066aa;
        border: none;
        border-radius: 4px;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .back-button:hover {
        background-color: #0077bb;
      }

      .page-title {
        font-size: 20px;
        font-weight: bold;
      }

      .page-logo {
        font-size: 24px;
        font-weight: bold;
      }

      /* Content Layout */
      .content-layout {
        display: flex;
        flex: 1;
        gap: 16px;
        overflow: hidden;
      }

      /* Form Container */
      .form-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 16px;
        overflow-y: auto;
        padding-right: 8px;
      }

      /* Form Section */
      .form-section {
        background-color: #003366;
        border-radius: 4px;
        border: 1px solid #0066aa;
        overflow: hidden;
      }

      .section-header {
        background-color: #3949ab;
        padding: 8px 12px;
        font-weight: bold;
        border-bottom: 1px solid #0066aa;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .section-content {
        padding: 16px;
      }

      /* Form Styles */
      .form-row {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        margin-bottom: 16px;
      }

      .form-group {
        flex: 1;
        min-width: 200px;
      }

      .form-group label {
        display: block;
        margin-bottom: 4px;
        font-size: 14px;
        color: #aaa;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 8px;
        border-radius: 4px;
        border: 1px solid #0066aa;
        background-color: #001a33;
        color: white;
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        outline: none;
        border-color: #0077bb;
        box-shadow: 0 0 0 2px rgba(0, 119, 187, 0.25);
      }

      .form-group input[type="date"] {
        padding: 7px 8px;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 80px;
      }

      .form-group.form-actions {
        display: flex;
        justify-content: flex-end;
        gap: 8px;
      }

      /* Radio Button Group */
      .radio-group {
        display: flex;
        gap: 16px;
      }

      .radio-option {
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .radio-option input[type="radio"] {
        width: auto;
      }

      /* Buttons */
      .btn {
        padding: 8px 16px;
        border-radius: 4px;
        border: none;
        font-weight: bold;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .btn-primary {
        background-color: #0066aa;
        color: white;
      }

      .btn-primary:hover {
        background-color: #0077bb;
      }

      .btn-secondary {
        background-color: #3949ab;
        color: white;
      }

      .btn-secondary:hover {
        background-color: #303f9f;
      }

      .btn-danger {
        background-color: #cc3333;
        color: white;
      }

      .btn-danger:hover {
        background-color: #dd4444;
      }

      /* Items Table */
      .items-table-container {
        overflow-x: auto;
      }

      .items-table {
        width: 100%;
        border-collapse: collapse;
      }

      .items-table th {
        background-color: #3949ab;
        text-align: left;
        padding: 8px;
        border-bottom: 1px solid #0066aa;
      }

      .items-table td {
        padding: 8px;
        border-bottom: 1px solid #0066aa;
      }

      .items-table tr:nth-child(even) {
        background-color: #0066aa;
      }

      .items-table tr:hover {
        background-color: #005599;
      }

      .items-table .text-right {
        text-align: right;
      }

      .items-table .actions {
        display: flex;
        gap: 8px;
      }

      .items-table .action-btn {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 24px;
        height: 24px;
        border-radius: 4px;
      }

      .items-table .action-btn:hover {
        background-color: #0077bb;
      }

      .items-table .action-btn.delete:hover {
        background-color: #cc3333;
      }

      /* Summary */
      .summary {
        display: flex;
        justify-content: flex-end;
        margin-top: 16px;
        font-weight: bold;
      }

      .summary-table {
        width: 300px;
        border-collapse: collapse;
      }

      .summary-table td {
        padding: 4px 8px;
      }

      .summary-table .text-right {
        text-align: right;
      }

      .summary-table .total-row {
        border-top: 1px solid #0066aa;
        font-size: 18px;
      }

      /* Product Search */
      .product-search-container {
        position: relative;
      }

      .product-search-results {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: #001a33;
        border: 1px solid #0066aa;
        border-radius: 0 0 4px 4px;
        max-height: 200px;
        overflow-y: auto;
        z-index: 10;
      }

      .product-search-item {
        padding: 8px;
        cursor: pointer;
        border-bottom: 1px solid #0066aa;
      }

      .product-search-item:hover {
        background-color: #0077bb;
      }

      .product-search-item .product-code {
        font-size: 12px;
        color: #aaa;
      }

      /* Preview Panel */
      .preview-panel {
        background-color: #003366;
        border-radius: 4px;
        overflow: hidden;
        transition: width 0.3s ease;
        border: 1px solid #0066aa;
      }

      .preview-panel.open {
        width: 400px;
      }

      .preview-header {
        background-color: #3949ab;
        padding: 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #0066aa;
      }

      .preview-title {
        font-weight: bold;
        font-size: 18px;
      }

      .close-button {
        background: none;
        border: none;
        color: white;
        cursor: pointer;
        font-size: 18px;
      }

      .preview-content {
        padding: 16px;
        overflow-y: auto;
        max-height: calc(100vh - 200px);
      }

      .preview-section {
        margin-bottom: 16px;
      }

      .preview-section-title {
        font-weight: bold;
        margin-bottom: 8px;
        border-bottom: 1px solid #0066aa;
        padding-bottom: 4px;
      }

      .preview-row {
        display: flex;
        margin-bottom: 8px;
      }

      .preview-label {
        width: 120px;
        color: #aaa;
      }

      .preview-value {
        flex: 1;
      }

      .preview-actions {
        display: flex;
        gap: 8px;
        margin-top: 16px;
      }

      /* Status Messages */
      .status-message {
        padding: 12px;
        border-radius: 4px;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .status-success {
        background-color: rgba(102, 204, 102, 0.2);
        border: 1px solid #66cc66;
        color: #66cc66;
      }

      .status-error {
        background-color: rgba(204, 51, 51, 0.2);
        border: 1px solid #cc3333;
        color: #cc3333;
      }

      .status-warning {
        background-color: rgba(255, 204, 0, 0.2);
        border: 1px solid #ffcc00;
        color: #ffcc00;
      }

      /* Footer Styles */
      .footer {
        background-color: #005599;
        padding: 4px 16px;
        font-size: 12px;
        border-top: 1px solid #0066aa;
      }

      .footer-top {
        display: flex;
        justify-content: space-between;
      }

      .footer-info {
        display: flex;
        gap: 16px;
      }

      .footer-info-item b {
        font-weight: bold;
      }

      .footer-version {
        display: flex;
        gap: 16px;
      }

      .system-info {
        text-align: right;
      }

      .footer-links {
        margin-top: 4px;
        display: flex;
        gap: 8px;
      }

      .footer-link {
        cursor: pointer;
      }

      .footer-link:hover {
        text-decoration: underline;
      }

      .separator {
        color: #666;
      }

      /* Icons */
      .icon {
        display: inline-block;
        width: 16px;
        height: 16px;
        background-repeat: no-repeat;
        background-position: center;
        background-size: contain;
      }

      .icon-arrow-left::before {
        content: "‚Üê";
      }

      .icon-plus::before {
        content: "+";
      }

      .icon-edit::before {
        content: "‚úé";
      }

      .icon-trash::before {
        content: "üóëÔ∏è";
        font-size: 12px;
      }

      .icon-check::before {
        content: "‚úì";
      }

      .icon-close::before {
        content: "√ó";
      }

      .icon-save::before {
        content: "üíæ";
        font-size: 12px;
      }

      .icon-preview::before {
        content: "üëÅÔ∏è";
        font-size: 12px;
      }

      .icon-warning::before {
        content: "‚ö†Ô∏è";
        font-size: 12px;
      }

      .icon-success::before {
        content: "‚úÖ";
        font-size: 12px;
      }

      .icon-error::before {
        content: "‚ùå";
        font-size: 12px;
      }

      /* Responsive adjustments */
      @media (max-width: 768px) {
        .content-layout {
          flex-direction: column;
        }

        .preview-panel {
          width: 100%;
          height: 0;
          transition: height 0.3s ease;
        }

        .preview-panel.open {
          width: 100%;
          height: 500px;
        }

        .form-row {
          flex-direction: column;
          gap: 8px;
        }

        .form-group {
          min-width: 100%;
        }
      }
    </style>
  </head>
  <body>
    <!-- Main Content -->
    <main class="main">
      <!-- Page Header -->
      <div class="page-header">
        <div class="page-title-container">
          <button class="back-button" onclick="window.history.back()">
            <span class="icon icon-arrow-left"></span>
          </button>
          <h1 class="page-title">Entrada de Produtos/Insumos</h1>
        </div>
        <div class="page-logo">KLOAD</div>
      </div>

      <!-- Status Message (initially hidden) -->
      <div id="status-message" style="display: none"></div>

      <!-- Content Layout -->
      <div class="content-layout">
        <!-- Form Container -->
        <div class="form-container">
          <!-- Document Information Section -->
          <div class="form-section">
            <div class="section-header">
              <div>Informa√ß√µes do Documento</div>
            </div>
            <div class="section-content">
              <div class="form-row">
                <div class="form-group">
                  <label for="entry-type">Tipo de Entrada</label>
                  <div class="radio-group">
                    <div class="radio-option">
                      <input
                        type="radio"
                        id="entry-type-purchase"
                        name="entry-type"
                        value="compra"
                        checked
                      />
                      <label for="entry-type-purchase">Compra</label>
                    </div>
                    <div class="radio-option">
                      <input
                        type="radio"
                        id="entry-type-production"
                        name="entry-type"
                        value="producao"
                      />
                      <label for="entry-type-production">Produ√ß√£o</label>
                    </div>
                    <div class="radio-option">
                      <input
                        type="radio"
                        id="entry-type-return"
                        name="entry-type"
                        value="devolucao"
                      />
                      <label for="entry-type-return">Devolu√ß√£o</label>
                    </div>
                    <div class="radio-option">
                      <input
                        type="radio"
                        id="entry-type-adjustment"
                        name="entry-type"
                        value="ajuste"
                      />
                      <label for="entry-type-adjustment">Ajuste</label>
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="document-number">N√∫mero do Documento</label>
                  <input
                    type="text"
                    id="document-number"
                    placeholder="Ex: NF 12345"
                  />
                </div>
                <div class="form-group">
                  <label for="document-date">Data do Documento</label>
                  <input type="date" id="document-date" value="" />
                </div>
                <div class="form-group">
                  <label for="entry-date">Data de Entrada</label>
                  <input type="date" id="entry-date" value="" />
                </div>
              </div>

              <!-- Fornecedor/Condi√ß√£o de Pagamento (apenas para Compra) -->
              <div class="form-row supplier-fields">
                <div class="form-group">
                  <label for="supplier">Fornecedor</label>
                  <select id="supplier">
                    <!-- <option value="">Selecione um fornecedor</option>
                    <option value="Fornecedor A">Fornecedor A</option>
                    <option value="Fornecedor B">Fornecedor B</option>
                    <option value="Fornecedor C">Fornecedor C</option>
                    <option value="Fornecedor D">Fornecedor D</option> -->
                  </select>
                </div>
                <div class="form-group">
                  <label for="payment-terms">Condi√ß√£o de Pagamento</label>
                  <select id="payment-terms">
                    <option value="">Selecione</option>
                    <option value="√Ä Vista">√Ä Vista</option>
                    <option value="30 dias">30 dias</option>
                    <option value="30/60 dias">30/60 dias</option>
                    <option value="30/60/90 dias">30/60/90 dias</option>
                  </select>
                </div>
              </div>

              <!-- M√°quina/Operador (apenas para Produ√ß√£o) -->
              <div class="form-row production-fields" style="display: none">
                <div class="form-group">
                  <label for="machine">M√°quina</label>
                  <select id="machine">
                    <option value="">Selecione uma m√°quina</option>
                    <!-- op√ß√µes via JS futuramente -->
                  </select>
                </div>
                <div class="form-group">
                  <label for="operator">Operador</label>
                  <select id="operator">
                    <option value="">Selecione um operador</option>
                    <!-- op√ß√µes via JS futuramente -->
                  </select>
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="notes">Observa√ß√µes</label>
                  <textarea
                    id="notes"
                    placeholder="Observa√ß√µes adicionais sobre esta entrada"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

          <!-- Items Section -->
          <div class="form-section">
            <div class="section-header">
              <div>Itens</div>
              <button class="btn btn-primary" id="add-item-btn">
                <span class="icon icon-plus"></span>
                Adicionar Item
              </button>
            </div>
            <div class="section-content">
              <!-- Add Item Form (initially hidden) -->
              <div id="add-item-form" style="display: none">
                <div class="form-row">
                  <div class="form-group product-search-container">
                    <label for="product-search">Produto</label>
                    <input
                      type="text"
                      id="product-search"
                      placeholder="Digite o c√≥digo ou nome do produto"
                    />
                    <div
                      class="product-search-results"
                      id="product-search-results"
                      style="display: none"
                    ></div>
                  </div>
                  <div class="form-group">
                    <label for="product-category">Categoria</label>
                    <select id="product-category" disabled>
                      <option value="">Selecione um produto</option>
                    </select>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group">
                    <label for="product-quantity">Quantidade</label>
                    <input
                      type="number"
                      id="product-quantity"
                      min="0"
                      step="0.01"
                      value="1"
                    />
                  </div>
                  <div class="form-group">
                    <label for="product-unit">Unidade</label>
                    <input type="text" id="product-unit" disabled />
                  </div>
                  <div class="form-group">
                    <label for="product-price">Pre√ßo Unit√°rio</label>
                    <input
                      type="number"
                      id="product-price"
                      min="0"
                      step="0.01"
                      value="0.00"
                    />
                  </div>
                  <div class="form-group">
                    <label for="product-total">Total</label>
                    <input type="text" id="product-total" disabled />
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group form-actions">
                    <button class="btn btn-secondary" id="cancel-item-btn">
                      Cancelar
                    </button>
                    <button class="btn btn-primary" id="confirm-item-btn">
                      <span class="icon icon-check"></span>
                      Confirmar
                    </button>
                  </div>
                </div>
              </div>

              <!-- Items Table -->
              <div class="items-table-container">
                <table class="items-table" id="items-table">
                  <thead>
                    <tr>
                      <th>C√≥digo</th>
                      <th>Produto</th>
                      <th>Categoria</th>
                      <th class="text-right">Quantidade</th>
                      <th>Un</th>
                      <th class="text-right">Pre√ßo Unit.</th>
                      <th class="text-right">Total</th>
                      <th>A√ß√µes</th>
                    </tr>
                  </thead>
                  <tbody id="items-tbody">
                    <tr id="empty-row">
                      <td colspan="8" style="text-align: center">
                        Nenhum item adicionado
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>

              <!-- Summary -->
              <div class="summary">
                <table class="summary-table">
                  <tr>
                    <td>Subtotal:</td>
                    <td class="text-right" id="subtotal">R$ 0,00</td>
                  </tr>
                  <tr>
                    <td>Impostos:</td>
                    <td class="text-right" id="taxes">R$ 0,00</td>
                  </tr>
                  <tr class="total-row">
                    <td>Total:</td>
                    <td class="text-right" id="total">R$ 0,00</td>
                  </tr>
                </table>
              </div>
            </div>
          </div>

          <!-- Form Actions -->
          <div class="form-section">
            <div class="section-content">
              <div class="form-row">
                <div class="form-group form-actions">
                  <button class="btn btn-secondary" id="clear-form-btn">
                    Limpar
                  </button>
                  <button class="btn btn-primary" id="preview-btn">
                    <span class="icon icon-preview"></span>
                    Visualizar
                  </button>
                  <button class="btn btn-primary" id="save-btn">
                    <span class="icon icon-save"></span>
                    Salvar
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Preview Panel -->
        <div class="preview-panel" id="preview-panel">
          <div class="preview-header">
            <div class="preview-title">Visualiza√ß√£o da Entrada</div>
            <button class="close-button" id="close-preview-button">
              <span class="icon icon-close"></span>
            </button>
          </div>
          <div class="preview-content" id="preview-content">
            <!-- Preview content will be inserted here by JavaScript -->
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-top">
        <div class="footer-info">
          <div class="footer-info-item"></div>
          <div class="footer-info-item"></div>
          <div class="footer-info-item"><b>Chat:</b> 24hs ativo!</div>
          <div class="footer-info-item">
            <b>E-mail:</b> atendimento@kloadsystem.com.br
          </div>
        </div>
        <div class="footer-version">
          <div>
            <b>Novidades da Vers√£o 3.41</b>
          </div>
        </div>
      </div>
      <div class="footer-links">
        <div class="footer-link">Sair</div>
        <span class="separator">|</span>
        <div class="footer-link">Perfil do Computador</div>
        <span class="separator">|</span>
        <div class="footer-link">PC</div>
        <span class="separator">|</span>
        <div class="footer-link">Usu√°rio</div>
        <span class="separator">|</span>
        <div class="footer-link">Servidor</div>
        <span class="separator">|</span>
        <div class="footer-link">Par√¢metros</div>
      </div>
    </footer>

    <script>
      // Mock data for products
      const API_URL = "https://localhost:5001";

      // PRODUTOS
      async function cadastrarProduto(produto) {
        const resp = await fetch(`${API_URL}/Produtos/Cadastro`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(produto),
        });
        return resp.json();
      }

      async function consultarProdutos() {
        const resp = await fetch(`${API_URL}/Produtos/Consulta`);
        return resp.json();
      }

      async function consultarProdutoPorId(id) {
        const resp = await fetch(`${API_URL}/Produtos/Consulta/${id}`);
        return resp.json();
      }

      // INSUMOS
      async function cadastrarInsumo(insumo) {
        const resp = await fetch(`${API_URL}/Insumos/Cadastro`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(insumo),
        });
        return resp.json();
      }

      async function consultarInsumos() {
        const resp = await fetch(`${API_URL}/Insumos/Consulta`);
        return resp.json();
      }

      async function consultarInsumoPorId(id) {
        const resp = await fetch(`${API_URL}/Insumos/Consulta/${id}`);
        return resp.json();
      }

      async function consultarFornecedores() {
        const resp = await fetch(
          `${API_URL}/api/Fornecedor/Fornecedor/Consulta`
        );
        return resp.json();
      }

      // DOM elements
      const addItemBtn = document.getElementById("add-item-btn");
      const addItemForm = document.getElementById("add-item-form");
      if (addItemBtn && addItemForm) {
        addItemBtn.addEventListener("click", function (e) {
          e.preventDefault();
          addItemForm.style.display = "block";
          addItemBtn.style.display = "none";
        });
      }
      const cancelItemBtn = document.getElementById("cancel-item-btn");
      if (cancelItemBtn && addItemForm && addItemBtn) {
        cancelItemBtn.addEventListener("click", function (e) {
          e.preventDefault();
          addItemForm.style.display = "none";
          addItemBtn.style.display = "inline-flex";
        });
      }

      const confirmItemBtn = document.getElementById("confirm-item-btn");
      const productSearch = document.getElementById("product-search");
      const productSearchResults = document.getElementById(
        "product-search-results"
      );
      const productCategory = document.getElementById("product-category");
      const productQuantity = document.getElementById("product-quantity");
      const productUnit = document.getElementById("product-unit");
      const productPrice = document.getElementById("product-price");
      const productTotal = document.getElementById("product-total");
      const itemsTable = document.getElementById("items-table");
      const itemsTbody = document.getElementById("items-tbody");
      const emptyRow = document.getElementById("empty-row");
      const subtotalElement = document.getElementById("subtotal");
      const taxesElement = document.getElementById("taxes");
      const totalElement = document.getElementById("total");
      const clearFormBtn = document.getElementById("clear-form-btn");
      const previewBtn = document.getElementById("preview-btn");
      const saveBtn = document.getElementById("save-btn");
      const previewPanel = document.getElementById("preview-panel");
      const closePreviewButton = document.getElementById(
        "close-preview-button"
      );
      const previewContent = document.getElementById("preview-content");
      const statusMessage = document.getElementById("status-message");
      const supplierFields = document.querySelector(".supplier-fields");
      // Adicione refer√™ncia para os campos de produ√ß√£o
      const productionFields = document.querySelector(".production-fields");
      const entryTypeRadios = document.querySelectorAll(
        'input[name="entry-type"]'
      );
      // ...existing code...

      // Alterna exibi√ß√£o dos campos conforme tipo de entrada
      function toggleSupplierFields() {
        const entryType = document.querySelector(
          'input[name="entry-type"]:checked'
        ).value;
        if (entryType === "producao") {
          supplierFields.style.display = "none";
          productionFields.style.display = "flex";
        } else {
          supplierFields.style.display = "flex";
          productionFields.style.display = "none";
        }
      }

      entryTypeRadios.forEach((radio) => {
        radio.addEventListener("change", toggleSupplierFields);
      });

      async function preencherSelectFornecedores() {
        try {
          const fornecedores = await consultarFornecedores();
          console.log("Fornecedores retornados:", fornecedores);
          const supplierSelect = document.getElementById("supplier");
          supplierSelect.innerHTML =
            '<option value="">Selecione um fornecedor</option>';
          if (Array.isArray(fornecedores)) {
            fornecedores.forEach((f) => {
              supplierSelect.innerHTML += `<option value="${f.id}">${f.nome}</option>`;
            });
          }
        } catch (e) {
          console.error("Erro ao preencher fornecedores:", e);
          const supplierSelect = document.getElementById("supplier");
          if (supplierSelect)
            supplierSelect.innerHTML =
              '<option value="">Erro ao carregar fornecedores</option>';
        }
      }

      // Inicializa√ß√£o
      document.addEventListener("DOMContentLoaded", () => {
        toggleSupplierFields();
        preencherSelectFornecedores();
      });
    </script>
  </body>
</html>
